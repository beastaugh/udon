JS.Benchmark=new JS.Module('Benchmark',{include:JS.Console,N:5,measure:function(a,b,c){var e=[],d,f=[],j=c.test;var g=b*JS.Benchmark.N;while(g--){d={};if(c.setup)c.setup.call(d);e.push(d)}var k=JS.Benchmark.N,h,i;while(k--){g=b;h=new Date().getTime();while(g--)j.call(e.pop());i=new Date().getTime();f.push(i-h)}this.printResult(a,f)},printResult:function(a,b){var c=this.average(b);this.reset();this.print(' ');this.consoleFormat('bgblack','white');this.print('BENCHMARK');this.reset();this.print(' ['+this.format(c)+']');this.consoleFormat('cyan');this.puts(' '+a);this.reset()},format:function(a){var b=(a.value===0)?0:100*a.error/a.value;return Math.round(a.value)+'ms +/- '+Math.round(b)+'%'},average:function(a){return{value:this.mean(a),error:this.stddev(a)}},mean:function(b,c){var e=[],c=c||function(a){return a},d=b.length,f=0;while(d--)e.push(c(b[d]));d=e.length;while(d--)f+=e[d];return f/e.length},stddev:function(b){var c=function(a){return a*a};return Math.sqrt(this.mean(b,c)-c(this.mean(b)))}});JS.Benchmark.extend(JS.Benchmark);
//@ sourceMappingURL=benchmark.js.map